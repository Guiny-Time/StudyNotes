---
attachments: [Clipboard_2021-01-09-22-50-59.png]
tags: [å¤§äºŒ/CS210ç®—æ³•ä¸æ•°æ®ç»“æ„I]
title: 7ï¼šç¬¬ä¸ƒ.xç« 
created: '2021-01-08T14:27:28.768Z'
modified: '2021-09-27T02:18:14.788Z'
---

# 7ï¼šç¬¬ä¸ƒ.xç« 
## äºŒå‰æ ‘Binary Tree
### å®Œå…¨äºŒå‰æ ‘
A complete binary tree is a binary tree in which every level, except possibly the last, is completely filled, and all nodes are as far left as possible
> å®Œå¤‡äºŒå‰æ ‘æ˜¯æŒ‡é™¤äº†æœ€åä¸€å±‚ä¹‹å¤–çš„æ¯ä¸€å±‚éƒ½æ˜¯æ»¡çš„ï¼Œå¹¶ä¸”æ‰€æœ‰èŠ‚ç‚¹éƒ½åœ¨å°½å¯èƒ½è¿œçš„å·¦è¾¹çš„äºŒå‰æ ‘

### æ’åºå¥½çš„äºŒå‰æ ‘
æ‰€æœ‰çš„çˆ¶èŠ‚ç‚¹ï¼Œéƒ½æ¯”ä»–çš„å­èŠ‚ç‚¹ï¼ˆä¸ç®¡æ˜¯ä¸€ä¸ªè¿˜æ˜¯ä¸¤ä¸ªè¿˜æ˜¯æ²¡æœ‰ï¼‰å¤§

### äºŒå‰æ ‘çš„èŠ‚ç‚¹å…³ç³»
é¦–å…ˆäºŒå‰æ ‘çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆæœ€é¡¶ä¸Šé‚£ä¸ªï¼‰çš„åºå·æ˜¯1
- ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ä¸º2i
- ä¸€ä¸ªèŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ä¸º2i + 1
- ä¸€ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸ºi/2å‘ä¸‹å–æ•´
### äºŒå‰æ ‘çš„äº”ä¸ªç‰¹ç‚¹
å®Œå…¨äºŒå‰æ ‘ï¼ˆæœ€åº•ä¸‹ç§»é™¤æ»¡äº†ï¼‰
- **FACT1:** ä¸€ä¸ªæœ‰nä¸ªå­èŠ‚ç‚¹çš„äºŒå‰æ ‘çš„é«˜åº¦è‡³å°‘ä¸ºlgnå‘ä¸‹å–æ•´
> **è¯æ˜**
2^(h+1) âˆ’ 1 â‰¥ ğ‘›
2^(â„+1) â‰¥ ğ‘›+1
â„+1 â‰¥ lgâ¡(ğ‘›+1)
â„+1 â‰¥ âŒˆlgâ¡(ğ‘›+1)âŒ‰    (Number of nodes is positive integer)
â„ â‰¥ âŒˆlgâ¡(ğ‘›+1)âŒ‰âˆ’1 = âŒŠlgâ¡ğ‘›âŒ‹

- **FACT2:** ä¸€ä¸ªæœ‰nä¸ªå¶å­èŠ‚ç‚¹çš„äºŒå‰æ ‘çš„é«˜åº¦è‡³å°‘ä¸ºlgnå‘ä¸Šå–æ•´
> **è¯æ˜**
It has ğ‘› leaves
Suppose that the height of this tree is â„
There are at most 2^â„ leaves
    2^â„ â‰¥ ğ‘›
    â„ â‰¥ âŒˆlgâ¡ğ‘›âŒ‰

- **FACT3:** ä¸€ä¸ªé«˜åº¦ä¸ºhçš„äºŒå‰æ ‘è‡³å¤šæœ‰2\^0 + 2\^1 + 2\^2 + ... + 2\^h = 2\^h+1 - 1ä¸ªèŠ‚ç‚¹ï¼Œæœ€å¤šæœ‰2\^hä¸ªå¶å­èŠ‚ç‚¹
> **è¯æ˜**
èŠ‚ç‚¹(å®é™…ä¸Šæ˜¯æ•°å­¦å½’çº³æ³•)ï¼š
By induction on â„.
â„=0, so 2^0=1 leaf
â„=1, so at mose 2^1=2 leaves
Thus, we suppose that it holds on â„ < ğ‘š
Then we will show that it holds on â„ = ğ‘š
å¶å­èŠ‚ç‚¹ï¼š
By induction hypothesis, we have that there are at most 2^(ğ‘šâˆ’1) leaves at the left subtree
and there are at most 2^(ğ‘šâˆ’1) leaves at the right subtree.
So, there are at most 2^(ğ‘šâˆ’1) + 2^(ğ‘šâˆ’1) = 2^ğ‘š  leaves at this binary tree


***
æ¥è¿‘å®Œå…¨çš„äºŒå‰æ ‘ï¼ˆå°±æ˜¯æœ€åº•ä¸‹ä¸€å±‚æ²¡æ»¡ï¼‰
- **FACT4:** ä¸€ä¸ªæœ‰nä¸ªå¶å­èŠ‚ç‚¹çš„äºŒå‰æ ‘çš„é«˜åº¦è‡³å°‘ä¸ºâŒˆlgâ¡(ğ‘›)âŒ‰ï¼ˆæˆ–è€…âŒˆlgâ¡(ğ‘›)âŒ‰+1?ï¼‰
- **FACT4:** ä¸€ä¸ªé«˜åº¦ä¸ºhçš„äºŒå‰æ ‘æœ‰[2\^h, 2\^h + 1]ä¸ªå­èŠ‚ç‚¹ï¼Œæœ‰[2\^h-1, 2\^h]ä¸ªå¶å­èŠ‚ç‚¹
- **FACT5:** ç¬¬kä¸ªèŠ‚ç‚¹ä½äºç¬¬âŒŠlgâ¡kâŒ‹å±‚
> **è¯æ˜**
ä¹Ÿæ˜¯æ•°å­¦å½’çº³æ³•ï¼Œæ¯”è¾ƒ..ç›´è§‚æ˜äº†

## å †æ’åºHeap Sort
### æ—¶é—´å¤æ‚åº¦
O(nlgn)
### heap sortæµç¨‹
- ç¬¬ä¸€æ­¥ï¼ŒæŠŠæ•°ç»„å…ƒç´ è£…è¿›ä¸€ä¸ªäºŒå‰æ ‘ä¸­ï¼Œå¹¶æ’åºæ‰¾åˆ°æœ€å¤§çš„å…ƒç´ (è¿™ä¸ªæ“ä½œå«heapify)ï¼Œä¹Ÿå°±æ˜¯äºŒå‰æ ‘çš„å¤´å¤´
- ç¬¬äºŒæ­¥ï¼ŒæŠŠäºŒå‰æ ‘çš„å¤´å¤´æ‹¿å‡ºæ¥æ”¾åˆ°æ–°å»ºçš„æ•°ç»„çš„æœ€åé¢ï¼Œç„¶åæŠŠæœ€åº•ä¸‹çš„å¶å­èŠ‚ç‚¹æŠ“æ¥æ”¾åˆ°å¤´å¤´çš„ç©ºä½é‡Œ
- ç¬¬ä¸‰æ­¥ï¼Œå¯¹æ–°çš„äºŒå‰æ ‘é‡æ’åºï¼Œè¿­ä»£ä¸Šè¿°è¿‡ç¨‹æ‰¾åˆ°æœ€å¤§æ”¾åˆ°æœ€åï¼ˆè¦æ”¾æœ€å‰ä¹Ÿå¯ä»¥ï¼Œçœ‹ä½ æƒ³æ€ä¹ˆæ’
- ç¬¬å››æ­¥ï¼ŒäºŒå‰æ ‘åªå‰©ä¸‹æœ€åä¸€ä¸ªå…ƒç´ äº†ï¼Œè¿™å°±æ˜¯æœ€å°çš„å…ƒç´ ï¼Œåœ¨æ•°ç»„çš„arr[0]

### heapifyå…·ä½“æ“ä½œ
heapifyå³åœ¨ä¸€ä¸ªçˆ¶èŠ‚ç‚¹å’Œå®ƒçš„å­èŠ‚ç‚¹ä¸­è¿›è¡Œæ’åºå¾—åˆ°æ’åºå¥½çš„äºŒå‰æ ‘çš„æ–¹æ³•ã€‚**æ˜¯ä»ä¸Šå¾€ä¸‹è¿›è¡Œçš„**ã€‚ä»¥HEAPIFY(A, 1)ä¸ºä¾‹ï¼š
ä»é¡¶ç‚¹å‘ä¸‹æ‰¾ç¬¬ä¸€ä¸ªå·¦çˆ¶èŠ‚ç‚¹: 
> æ¯”è¾ƒå·¦å­èŠ‚ç‚¹ä¸çˆ¶èŠ‚ç‚¹ï¼Œè‹¥çˆ¶èŠ‚ç‚¹å°åˆ™äº¤æ¢
æ¯”è¾ƒå³å­èŠ‚ç‚¹ä¸çˆ¶èŠ‚ç‚¹ï¼Œè‹¥çˆ¶èŠ‚ç‚¹å°åˆ™äº¤æ¢

æ¥ä¸‹æ¥ï¼Œç»§ç»­å¾€ä¸Šæ‰¾å·¦çˆ¶èŠ‚ç‚¹ï¼Œé‡å¤ä»¥ä¸Šæ­¥éª¤
- HEAPIFY(A, n)çš„æ„æ€æ˜¯Aè¿™ä¸ªäºŒå‰æ ‘çš„åºå·ä¸ºnçš„èŠ‚ç‚¹ä½œä¸ºçˆ¶èŠ‚ç‚¹å‘è¿™ä¸ªå•å…ƒheapify
- é¢˜ç›®æœ‰çš„æ—¶å€™ä¼šç»™i = nï¼Œè¿™ä¸ªæ„æ€æ˜¯ä»¥ç¬¬nä¸ªèŠ‚ç‚¹ä¸ºçˆ¶èŠ‚ç‚¹å‘ä¸‹æ‰€æœ‰çˆ¶èŠ‚ç‚¹è¿›è¡Œheapify
- å› ä¸ºè¿™ç§å’Œ2æœ‰å…³çš„æ“ä½œï¼Œä»¥åŠå‰é¢çš„å®šå¾‹ï¼Œæ‰€ä»¥è¿™ä¸ªæ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(lgn)
> **è¯æ˜**
ğ‘‡(ğ‘›)â‰¤ğ‘‡(2/3 ğ‘›)+ğ›©(1)
 ğ‘‡(ğ‘›)=ğ‘‚(lgâ¡ğ‘›)
Why?
Because there are at most ğŸ/ğŸ‘ ğ’ nodes in the left subtree

### ä¸¤ç§ç”»å †çš„æ–¹å¼
#### æ—¶é—´å¤æ‚åº¦åŒºåˆ«ï¼š
- é¡¶ç«¯åˆ°åº•ç«¯top-dowmï¼šO(nlgn)
- åº•ç«¯åˆ°é¡¶ç«¯bottom-upï¼šO(n)
#### æ“ä½œåŒºåˆ«ï¼š
- top-down
å°±æ˜¯æˆ‘ä»¬å¹³å¸¸æƒ¯ç”¨çš„å¡«æ³•ï¼Œä¸€è‚¡è„‘çš„ä»ä¸Šå¡«åˆ°ä¸‹ã€ä»å·¦å¡«åˆ°å³
*è¯·æ³¨æ„ï¼ï¼å¡«å…¥å’Œheapifyæ˜¯åŒæ—¶è¿›è¡Œçš„ã€‚ä¸è¿‡è¿™ä¸ªè¡Œä¸ºå¥½åƒè¢«ç§°ä½œ**floating up***
å¡«å…¥çš„è¿‡ç¨‹æ˜¯O(n)ï¼Œheapifyçš„è¿‡ç¨‹æ˜¯O(lgn)ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(nlgn)
![](@attachment/Clipboard_2021-01-09-22-50-59.png)
- buttom-up
é¦–å…ˆæŒ‰ç…§å…ƒç´ ä¸ªæ•°ç”»å‡ºäºŒå‰æ ‘çš„é›å½¢ï¼Œç„¶åå¡«å…¥æœ€åçš„å‡ ä¸ªå…ƒç´ åˆ°äºŒå‰æ ‘çš„åº•ä¸‹

## ä½¿ç”¨heapå®ç°ä¼˜å…ˆé˜Ÿåˆ—
### æ—¶é—´å¤æ‚åº¦
O(nlgn)
### æ“ä½œæµç¨‹

- Maximum(A)
æ‰¾åˆ°æœ€å¤§çš„æ•°
O(1) -->åŸå› æ˜¯ A[1]ï¼Œå°±åœ¨é¡¶ç«¯

- Extract-max(A)
1ã€take the maximum (in A[1]) --> O(1)æ‰¾åˆ°æœ€å¤§
2ã€set A[1] = A[n]
3ã€Heapify ï¼ˆç”±ä¸Šåˆ°ä¸‹è°ƒæ•´ï¼‰A[1] ~ A[n-1] --> O(lgn)
> Take the maximun and remove it.

- Insert(A,x)
æŠŠå…ƒç´ æ”¾å…¥äºŒå‰æ ‘ä¸­ï¼Œxæ˜¯å®ƒçš„ä½ç½®ï¼ŒSæ˜¯è¿™ä¸ªå…ƒç´ æœ¬èº«ï¼ŒO(1)
Heapifyï¼ˆç”±ä¸‹å¾€ä¸Šè°ƒæ•´ï¼‰æŠŠxå¾€æ ¹èŠ‚ç‚¹è°ƒæ•´ --> O(lgn)
> Add a node x to the end of this tree.
Then â€œfloating upâ€. 

































