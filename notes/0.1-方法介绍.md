---
tags: [大四/数值计算]
title: 0.1-方法介绍
created: '2023-01-01T10:45:56.226Z'
modified: '2023-01-01T18:26:46.585Z'
---

# 0.1-方法介绍
## 多项式计算
例: 计算下列多项式，其中 $x = \frac{1}{2}$
$$P(x) = 2x^4 + 3x^3 - 3x^2 + 5x - 1$$
### 常规方法
常规方法就是代入直接进行计算，要计算四个项(4+2+2+1个乘法，4个加法)，并最后相加。那么，有没有更快的方法呢？
###  嵌套乘法(nested multiplication)
$$P(x) = -1 + 5x - 3x^2 + 3x^3 + 2x^4$$
$$P(x) = -1 + x(5 - 3x + 3x^2 + 2x^3)$$
$$P(x) = -1 + x(5 + x(-3 + 3x + 2x^2))$$
$$P(x) = -1 + x(5 + x(-3 + x(3 + 2x)))$$
现在只要4次乘法和4次加法。

## 二/十进制转换
### 二进制转十进制
本质是与2的倍数相乘后累加：
$$001010 = 2^5 * 0 + 2^4 * 0 + 2^3 * 1 + 2^2 * 0 + 2^1 * 1 + 2^0 * 0$$

### 十进制转二进制
本质是不断除以2，然后把余数相连：
<img src="https://tvax4.sinaimg.cn/large/006UcwnJly1h9onsm5iodj305304xq3h.jpg" alt="image" width="183" data-width="183" data-height="177">
他的二进制就是110101

### 小数/分数转化
- 二进制小数转十进制
和整数非常相似，但指数部分是负的：
$$0.1001 = 2^{-1} * 1 + 2^{-2} * 0 + 2^{-3} * 0 + 2^{-4} * 1$$

- 十进制小数转二进制
本质是不断除以2，然后把余数相连，不过连的方向是从上到下的（与整数相反）。
经常会除不尽，造成无限循环的情况。这也是导致浮点数精度问题的原因之一。

## 误差
因为浮点数精度问题，误差始终存在。
### 有效数位
若 $x^∗$ 作为 $x$ 的近似值，其绝对误差的绝对值不超过某一位数字的半个单位，而该数字到 $x^∗$ 的第一位非零数字共有 $n$ 位，则称 $x^∗$ 近似 $x$ 时具有 $n$ 位有效数字，简称 $x^∗$ 有 $n$ 位有效数字。
例：$$π = 3.14159265....$$
$π^∗ = 3.142$ 是四位有效。
$π^∗ = 3.1415$ 还是四位有效，因为真正的五位有效是$3.1416$，这里没有四舍五入进1
$π^∗ = 3.14159$ 是六位有效
$0.0123$ 是三位有效
$2300$ 是四位有效，但写成科学计数法 $2.3 * 10^3$ 是两位有效。

### 绝对误差与相对误差
假设 $x$ 是精确值，而 $x^∗$ 是 $x$ 的一个近似值，则绝对误差为:
$$e(x^{*}) = x^{*} - x$$
相对误差为：
$$\epsilon(x^*) = \frac{x^* - x}{x^*}$$

### 误差边界
如果绝对误差有上界 $\varepsilon(x^*)$：
$$|e(x^*)| = |x^* - x| \leq \varepsilon(x^*)$$
则 $\varepsilon(x^*)$ 为 $x^*$ 的误差边界。

## 防止误差损失（考）
### 避免大数吃小数
如果用**大数字+小数字**，那么因为浮点数精度问题，小数字可能被四舍五入**消失**。因此，正确的做法是**先将小数字相加，最后再加上大数字**。

### 避免相近数字减法
如果两个数字相差较小（如：0.00001和0.00002），那么它们相减可能会出大问题。当遇到下列情况时，记得用等价公式进行替换：
$$\sqrt{x + \epsilon} - \sqrt{x} = \frac{\epsilon}{\sqrt{x + \epsilon} + \sqrt{x}}$$
$$\ln{x + \epsilon} - \ln{x} = \ln{1 + \frac{\epsilon}{x}}$$
$$1-\cos{\epsilon} = 2\sin^{2}(\frac{\epsilon}{2})$$
$$1-\cos{\epsilon} = \frac{\sin^{2}(\epsilon)}{1 + \cos{\epsilon}}$$

### 避免大数乘小数
如果一个很大的数和一个很小的数相乘，那么误差就会被放大。
对于多项式，可以用嵌套乘法的形式。

### 避免大数除小数
如果一个很大的数除以一个很小的数，那么误差就会爆炸。

