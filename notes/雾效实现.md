---
tags: [TA/demo实现]
title: 雾效实现
created: '2022-02-05T16:02:21.042Z'
modified: '2022-02-05T18:28:50.067Z'
---

# 雾效实现
接上篇文章画的饼，这回我打算试着实现一下雾效，我们最终的目标就是实现类似下图的效果。当然，纪念碑谷中的不怎么被雾影响的方块和浸泡在雾气中的方块使用的应该是两种shader，他们不会混在一起。但如果我们要实现的是一个可以移动的场景呢？使用我想在纪念碑谷的静态贴地雾效上加点东西，即：当摄像机移动时，雾的范围会随着摄像机的移动而移动，始终做到远处模糊、近处清晰的效果。

<img src="https://raw.githubusercontent.com/Guiny-Time/PictureBed/main/20220206022120.png"/>

## 思路
其实我们实现纪念碑谷中的这种雾效的思路和全局渐变非常类似。总结一下，主要有以下两点需求：
- 离摄像机越远，雾气越浓，具体表现在物体整体与雾气的颜色相融
- 离摄像机越近，雾气越轻，具体表现在雾气很浅，几乎消失

即，离相机较远的物体如下左所示；离相机较近的物体如下右所示：

<img src="https://raw.githubusercontent.com/Guiny-Time/PictureBed/main/20220206021225.png" style="display:inline"/> <img src="https://raw.githubusercontent.com/Guiny-Time/PictureBed/main/20220206021327.png" width=300 style="display:inline"/>

我们可以调整地平线（渐变中心位置）的值来实现这个效果。当一个物体离摄像机较近时，它的地平线也较低；反之则较高。

## 实现
